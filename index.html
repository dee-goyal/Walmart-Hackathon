<!DOCTYPE html>
<html>
<head>
    <title>Depletion Rate Predictor</title>
</head>
<body>
    <h1>Predict Depletion Rate</h1>
    <form id="prediction-form">
        <label for="stock_level">Stock Level:</label><br>
        <input type="number" id="stock_level" name="stock_level"><br>
        <label for="stock_out_occurrence">Stock-Out Occurrence:</label><br>
        <input type="number" id="stock_out_occurrence" name="stock_out_occurrence"><br>
        <label for="stock_out_duration">Stock-Out Duration:</label><br>
        <input type="number" id="stock_out_duration" name="stock_out_duration"><br>
        <label for="promotion">Promotion:</label><br>
        <input type="text" id="promotion" name="promotion"><br>
        <label for="seasonality">Seasonality:</label><br>
        <input type="text" id="seasonality" name="seasonality"><br>
        <label for="external_events">External Events:</label><br>
        <input type="text" id="external_events" name="external_events"><br>
        <label for="product_price">Product Price:</label><br>
        <input type="number" id="product_price" name="product_price"><br>
        <label for="order_quantity">Order Quantity:</label><br>
        <input type="number" id="order_quantity" name="order_quantity"><br><br>
        <input type="button" value="Predict" onclick="predictDepletionRate()">
    </form>
    <h2 id="result"></h2>

    <script>
        function predictDepletionRate() {
            const data = {
                stock_level: document.getElementById('stock_level').value,
                stock_out_occurrence: document.getElementById('stock_out_occurrence').value,
                stock_out_duration: document.getElementById('stock_out_duration').value,
                promotion: document.getElementById('promotion').value,
                seasonality: document.getElementById('seasonality').value,
                external_events: document.getElementById('external_events').value,
                product_price: document.getElementById('product_price').value,
                order_quantity: document.getElementById('order_quantity').value
            };

            fetch('/predict', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('result').innerText = 'Predicted Depletion Rate: ' + data['Depletion Rate'];
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }
    </script>
</body>
</html>
